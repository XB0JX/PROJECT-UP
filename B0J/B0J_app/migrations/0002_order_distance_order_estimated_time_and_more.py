# Generated by Django 5.2.9 on 2025-12-03 19:35

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ("B0J_app", "0001_initial"),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AddField(
            model_name="order",
            name="distance",
            field=models.DecimalField(
                decimal_places=2,
                default=0,
                max_digits=6,
                verbose_name="–†–∞—Å—Å—Ç–æ—è–Ω–∏–µ (–∫–º)",
            ),
        ),
        migrations.AddField(
            model_name="order",
            name="estimated_time",
            field=models.IntegerField(default=0, verbose_name="–ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è (–º–∏–Ω)"),
        ),
        migrations.AddField(
            model_name="order",
            name="payment_method",
            field=models.CharField(
                choices=[
                    ("cash", "üíµ –ù–∞–ª–∏—á–Ω—ã–µ"),
                    ("card", "üí≥ –ö–∞—Ä—Ç–∞ –≤–æ–¥–∏—Ç–µ–ª—é"),
                    ("online_card", "üíª –ö–∞—Ä—Ç–∞ –æ–Ω–ª–∞–π–Ω"),
                    ("apple_pay", "üì± Apple Pay"),
                    ("google_pay", "üì± Google Pay"),
                    ("yandex_money", "üí∞ –Ø–Ω–¥–µ–∫—Å.–î–µ–Ω—å–≥–∏"),
                    ("sberbank", "üè¶ –°–±–µ—Ä–±–∞–Ω–∫ –û–Ω–ª–∞–π–Ω"),
                    ("qiwi", "ü•ù QIWI"),
                    ("corporate", "üè¢ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—á–µ—Ç"),
                ],
                default="cash",
                max_length=20,
                verbose_name="–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã",
            ),
        ),
        migrations.AddField(
            model_name="order",
            name="price",
            field=models.DecimalField(
                decimal_places=2, default=0, max_digits=10, verbose_name="–°—Ç–æ–∏–º–æ—Å—Ç—å"
            ),
        ),
        migrations.CreateModel(
            name="Customer",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "phone",
                    models.CharField(
                        max_length=20, unique=True, verbose_name="–¢–µ–ª–µ—Ñ–æ–Ω"
                    ),
                ),
                (
                    "registration_date",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏"
                    ),
                ),
                (
                    "total_orders",
                    models.IntegerField(default=0, verbose_name="–í—Å–µ–≥–æ –∑–∞–∫–∞–∑–æ–≤"),
                ),
                (
                    "total_spent",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="–í—Å–µ–≥–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ",
                    ),
                ),
                (
                    "user",
                    models.OneToOneField(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
                    ),
                ),
            ],
            options={
                "verbose_name": "–ö–ª–∏–µ–Ω—Ç",
                "verbose_name_plural": "–ö–ª–∏–µ–Ω—Ç—ã",
            },
        ),
        migrations.AddField(
            model_name="order",
            name="customer",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                to="B0J_app.customer",
                verbose_name="–ö–ª–∏–µ–Ω—Ç",
            ),
        ),
        migrations.CreateModel(
            name="Payment",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "amount",
                    models.DecimalField(
                        decimal_places=2, max_digits=10, verbose_name="–°—É–º–º–∞"
                    ),
                ),
                (
                    "payment_method",
                    models.CharField(
                        choices=[
                            ("cash", "üíµ –ù–∞–ª–∏—á–Ω—ã–µ"),
                            ("card", "üí≥ –ö–∞—Ä—Ç–∞ –≤–æ–¥–∏—Ç–µ–ª—é"),
                            ("online_card", "üíª –ö–∞—Ä—Ç–∞ –æ–Ω–ª–∞–π–Ω"),
                            ("apple_pay", "üì± Apple Pay"),
                            ("google_pay", "üì± Google Pay"),
                            ("yandex_money", "üí∞ –Ø–Ω–¥–µ–∫—Å.–î–µ–Ω—å–≥–∏"),
                            ("sberbank", "üè¶ –°–±–µ—Ä–±–∞–Ω–∫ –û–Ω–ª–∞–π–Ω"),
                            ("qiwi", "ü•ù QIWI"),
                            ("corporate", "üè¢ –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—á–µ—Ç"),
                        ],
                        max_length=20,
                        verbose_name="–°–ø–æ—Å–æ–± –æ–ø–ª–∞—Ç—ã",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã"),
                            ("processing", "–í –æ–±—Ä–∞–±–æ—Ç–∫–µ"),
                            ("completed", "–û–ø–ª–∞—á–µ–Ω–æ"),
                            ("failed", "–ù–µ —É–¥–∞–ª–æ—Å—å"),
                            ("refunded", "–í–æ–∑–≤—Ä–∞—Ç"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="–°—Ç–∞—Ç—É—Å",
                    ),
                ),
                (
                    "transaction_id",
                    models.CharField(
                        blank=True,
                        max_length=100,
                        null=True,
                        verbose_name="ID —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏",
                    ),
                ),
                (
                    "payment_time",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="–í—Ä–µ–º—è –ø–ª–∞—Ç–µ–∂–∞"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="–ü—Ä–∏–º–µ—á–∞–Ω–∏—è")),
                (
                    "order",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="B0J_app.order",
                        verbose_name="–ó–∞–∫–∞–∑",
                    ),
                ),
            ],
            options={
                "verbose_name": "–ü–ª–∞—Ç–µ–∂",
                "verbose_name_plural": "–ü–ª–∞—Ç–µ–∂–∏",
            },
        ),
        migrations.CreateModel(
            name="Review",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "rating",
                    models.IntegerField(
                        choices=[
                            (1, "‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ"),
                            (2, "‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ"),
                            (3, "‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ"),
                            (4, "‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ"),
                            (5, "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ"),
                        ],
                        default=5,
                        verbose_name="–†–µ–π—Ç–∏–Ω–≥",
                    ),
                ),
                ("comment", models.TextField(verbose_name="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="–î–∞—Ç–∞ –æ—Ç–∑—ã–≤–∞"),
                ),
                (
                    "is_approved",
                    models.BooleanField(default=True, verbose_name="–û–¥–æ–±—Ä–µ–Ω"),
                ),
                (
                    "customer",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="B0J_app.customer",
                        verbose_name="–ö–ª–∏–µ–Ω—Ç",
                    ),
                ),
                (
                    "driver",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="B0J_app.driver",
                        verbose_name="–í–æ–¥–∏—Ç–µ–ª—å",
                    ),
                ),
                (
                    "order",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="B0J_app.order",
                        verbose_name="–ó–∞–∫–∞–∑",
                    ),
                ),
            ],
            options={
                "verbose_name": "–û—Ç–∑—ã–≤",
                "verbose_name_plural": "–û—Ç–∑—ã–≤—ã",
                "ordering": ["-created_at"],
            },
        ),
    ]
